<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - CompuGear</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <style>
        :root {
            --primary: #008080;
            --primary-hover: #006666;
            --primary-active: #004D4D;
            --primary-foreground: #FFFFFF;
            --background: #FFFFFF;
            --foreground: #141516;
            --card: #FFFFFF;
            --border: #E5E7EB;
            --muted: #F1F5F9;
            --muted-foreground: #64748B;
            --success: #10B981;
            --success-light: #ECFDF5;
            --success-fg: #166534;
            --warning: #F59E0B;
            --warning-light: #FFFBEB;
            --warning-fg: #B45309;
            --error: #EF4444;
            --error-light: #FEF2F2;
            --error-fg: #B91C1C;
            --info: #3B82F6;
            --info-light: #EFF6FF;
            --info-fg: #1E40AF;
            --pending: #F97316;
            --pending-light: #FFF7ED;
            --pending-fg: #C2410C;
            --accent: #FF6B35;
            --radius: 12px;
            --radius-sm: 8px;
            --radius-lg: 16px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', 'Inter', -apple-system, system-ui, sans-serif;
            background: var(--background);
            min-height: 100vh;
            color: var(--foreground);
            line-height: 1.6;
        }

        /* ========== ANIMATIONS ========== */
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0;
        }

        .stagger-1 { animation-delay: 0.05s; }
        .stagger-2 { animation-delay: 0.1s; }
        .stagger-3 { animation-delay: 0.15s; }
        .stagger-4 { animation-delay: 0.2s; }
        .stagger-5 { animation-delay: 0.25s; }
        .stagger-6 { animation-delay: 0.3s; }
        .stagger-7 { animation-delay: 0.35s; }
        .stagger-8 { animation-delay: 0.4s; }

        @@keyframes fadeIn {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @@keyframes pulse-soft {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        .pulse-soft { animation: pulse-soft 2s ease-in-out infinite; }

        /* ========== COMPONENT TOKENS ========== */
        .card-elevated {
            background: var(--card);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            box-shadow: 0 1px 3px rgba(0,0,0,0.04), 0 4px 12px rgba(0,0,0,0.04);
        }

        .card-interactive {
            background: var(--card);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            transition: all 0.25s ease;
            cursor: pointer;
        }

        .card-interactive:hover {
            border-color: var(--primary);
            box-shadow: 0 8px 24px rgba(0,128,128,0.12);
            transform: translateY(-4px) scale(1.01);
        }

        .gradient-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-hover) 100%);
        }

        /* Badges */
        .badge-success { background: var(--success-light); color: var(--success-fg); padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
        .badge-warning { background: var(--warning-light); color: var(--warning-fg); padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
        .badge-error { background: var(--error-light); color: var(--error-fg); padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
        .badge-info { background: var(--info-light); color: var(--info-fg); padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
        .badge-pending { background: var(--pending-light); color: var(--pending-fg); padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }

        /* Typography */
        .label-uppercase {
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--muted-foreground);
        }

        /* ========== 3-TIER HEADER ========== */
        
        /* Tier 1: Announcement Bar */
        .announcement-bar {
            background: #1a1a2e;
            color: #fff;
            padding: 10px 0;
            font-size: 0.85rem;
            text-align: center;
        }

        .announcement-bar .container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            max-width: 1400px;
        }

        .announcement-bar svg { width: 16px; height: 16px; flex-shrink: 0; }

        .announcement-bar a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
            margin-left: 8px;
        }

        .announcement-bar a:hover { text-decoration: underline; }

        /* Tier 2: Main Header */
        .main-header {
            background: rgba(255,255,255,0.98);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            padding: 14px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .main-header .container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 24px;
            max-width: 1400px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            flex-shrink: 0;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-icon svg { width: 24px; height: 24px; color: #fff; }

        .logo-text { font-size: 1.4rem; font-weight: 700; color: var(--foreground); }
        .logo-text span { color: var(--primary); }

        .search-container { flex: 1; max-width: 480px; }

        .search-box { position: relative; display: flex; align-items: center; }

        .search-box input {
            width: 100%;
            padding: 11px 16px 11px 44px;
            border: 1px solid var(--border);
            border-radius: 50px;
            font-size: 0.9rem;
            background: var(--muted);
            transition: all 0.2s;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
            background: var(--card);
            box-shadow: 0 0 0 3px rgba(0,128,128,0.1);
        }

        .search-box input::placeholder { color: var(--muted-foreground); }
        .search-box .search-icon { position: absolute; left: 14px; color: var(--muted-foreground); }
        .search-box svg { width: 18px; height: 18px; }

        .header-actions { display: flex; align-items: center; gap: 6px; }

        .header-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            color: var(--muted-foreground);
            text-decoration: none;
            border-radius: var(--radius-sm);
            transition: all 0.2s;
            position: relative;
        }

        .header-btn:hover { background: var(--muted); color: var(--primary); }
        .header-btn svg { width: 22px; height: 22px; }

        .header-btn .badge {
            position: absolute;
            top: 4px;
            right: 4px;
            background: var(--accent);
            color: white;
            font-size: 0.65rem;
            font-weight: 700;
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 18px;
            text-align: center;
        }

        .user-menu { position: relative; }

        .user-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px 6px 6px;
            background: var(--muted);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .user-btn:hover { background: var(--border); }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .user-name { font-weight: 500; color: var(--foreground); font-size: 0.9rem; }
        .user-btn svg { width: 16px; height: 16px; color: var(--muted-foreground); }

        .user-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            box-shadow: 0 10px 40px rgba(0,0,0,0.12);
            min-width: 220px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-8px);
            transition: all 0.2s;
            z-index: 1100;
        }

        .user-menu:hover .user-dropdown { opacity: 1; visibility: visible; transform: translateY(0); }

        .dropdown-header { padding: 14px 16px; border-bottom: 1px solid var(--border); }
        .dropdown-header .name { font-weight: 600; color: var(--foreground); }
        .dropdown-header .email { font-size: 0.8rem; color: var(--muted-foreground); }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 16px;
            color: var(--foreground);
            text-decoration: none;
            transition: all 0.15s;
        }

        .dropdown-item:hover { background: var(--muted); color: var(--primary); }
        .dropdown-item svg { width: 18px; height: 18px; opacity: 0.7; }
        .dropdown-divider { height: 1px; background: var(--border); margin: 4px 0; }
        .dropdown-item.logout { color: var(--error); }
        .dropdown-item.logout:hover { background: var(--error-light); }

        /* Tier 3: Navigation Bar */
        .nav-bar {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-hover) 100%);
            position: sticky;
            top: 73px;
            z-index: 999;
        }

        .nav-bar .container { max-width: 1400px; }

        .nav-menu {
            display: flex;
            align-items: center;
            justify-content: center;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 4px;
        }

        .nav-menu li a {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 14px 28px;
            color: rgba(255,255,255,0.9);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.2s;
            border-radius: var(--radius-sm);
            position: relative;
        }

        .nav-menu li a:hover { background: rgba(255,255,255,0.15); color: #fff; }

        .nav-menu li a.active { background: rgba(255,255,255,0.2); color: #fff; }

        .nav-menu li a.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 24px;
            height: 3px;
            background: var(--accent);
            border-radius: 2px;
        }

        .nav-menu li a svg { width: 18px; height: 18px; flex-shrink: 0; }

        /* ========== MAIN CONTENT ========== */
        .main-content { min-height: calc(100vh - 200px); }

        .main-content > .container { max-width: 1400px; padding: 32px 20px; }

        /* ========== UTILITY CLASSES ========== */
        .section-spacing { margin-bottom: 40px; }

        .btn-primary-solid {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            background: var(--primary);
            color: var(--primary-foreground);
            border: none;
            border-radius: var(--radius-sm);
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.2s;
        }

        .btn-primary-solid:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,128,128,0.25);
            color: var(--primary-foreground);
        }

        .btn-secondary {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            background: var(--muted);
            color: var(--foreground);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            font-weight: 500;
            font-size: 0.9rem;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.2s;
        }

        .btn-secondary:hover { background: var(--border); color: var(--foreground); }

        .btn-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border: none;
            border-radius: var(--radius-sm);
            background: var(--muted);
            color: var(--muted-foreground);
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-icon:hover { background: var(--border); color: var(--primary); }

        /* ========== RESPONSIVE ========== */
        @@media (max-width: 1024px) {
            .search-container { max-width: 320px; }
            .nav-menu li a { padding: 12px 20px; font-size: 0.85rem; }
        }

        @@media (max-width: 768px) {
            .announcement-bar { font-size: 0.75rem; padding: 8px 0; }
            .main-header .container { gap: 12px; }
            .search-container { 
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                max-width: none;
                padding: 12px 20px;
                background: var(--card);
                border-bottom: 1px solid var(--border);
                display: none;
            }
            .search-container.show { display: block; }
            .logo-text { display: none; }
            .user-name { display: none; }
            .nav-bar { top: 61px; overflow-x: auto; }
            .nav-menu { justify-content: flex-start; gap: 0; }
            .nav-menu li a { padding: 12px 16px; white-space: nowrap; border-radius: 0; }
            .nav-menu li a span { display: none; }
            .main-content > .container { padding: 20px 16px; }
        }

        @@media (max-width: 480px) {
            .header-actions { gap: 4px; }
            .header-btn { width: 40px; height: 40px; }
        }
    </style>
</head>
<body>
    @{
        var customerName = Context.Session.GetString("CustomerName") ?? "Guest";
        var customerEmail = Context.Session.GetString("CustomerEmail") ?? "";
        var firstName = customerName.Split(' ')[0];
        var initials = string.Join("", customerName.Split(' ').Take(2).Select(n => n.Length > 0 ? n[0].ToString().ToUpper() : ""));
        var isLoggedIn = Context.Session.GetInt32("CustomerId") != null || Context.Session.GetInt32("RoleId") == 7;
    }

    <!-- Tier 1: Announcement Bar -->
    <div class="announcement-bar">
        <div class="container">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
            </svg>
            <span>Free shipping on orders over $99</span>
            <a href="/CustomerPortal/Promotions">Shop Deals</a>
        </div>
    </div>

    <!-- Tier 2: Main Header -->
    <header class="main-header">
        <div class="container">
            <a href="/CustomerPortal" class="logo">
                <div class="logo-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                </div>
                <span class="logo-text">Compu<span>Gear</span></span>
            </a>

            <div class="search-container">
                <div class="search-box">
                    <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <input type="text" id="globalSearch" placeholder="Search products, brands, categories..." onkeypress="handleSearch(event)" />
                </div>
            </div>

            <div class="header-actions">
                <a href="/CustomerPortal/Wishlist" class="header-btn" title="Wishlist">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                    </svg>
                    <span class="badge">3</span>
                </a>

                <a href="/CustomerPortal/Cart" class="header-btn" title="Cart">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <span class="badge pulse-soft" id="cartBadge">2</span>
                </a>

                @if (isLoggedIn)
                {
                    <div class="user-menu">
                        <button class="user-btn">
                            <div class="user-avatar">@initials</div>
                            <span class="user-name">@firstName</span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                            </svg>
                        </button>
                        <div class="user-dropdown">
                            <div class="dropdown-header">
                                <div class="name">@customerName</div>
                                <div class="email">@customerEmail</div>
                            </div>
                            <a href="/CustomerPortal/Profile" class="dropdown-item">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                                My Profile
                            </a>
                            <a href="/CustomerPortal/Orders" class="dropdown-item">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" /></svg>
                                My Orders
                            </a>
                            <a href="/CustomerPortal/MyTickets" class="dropdown-item">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" /></svg>
                                Support Tickets
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="/Auth/Logout" class="dropdown-item logout">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" /></svg>
                                Sign Out
                            </a>
                        </div>
                    </div>
                }
                else
                {
                    <a href="/Auth/Login" class="btn-primary-solid" style="padding: 8px 16px;">Sign In</a>
                }
            </div>
        </div>
    </header>

    <!-- Tier 3: Navigation Bar -->
    <nav class="nav-bar">
        <div class="container">
            <ul class="nav-menu">
                <li>
                    <a href="/CustomerPortal" class="@(ViewContext.RouteData.Values["action"]?.ToString() == "Index" ? "active" : "")">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>
                        <span>Home</span>
                    </a>
                </li>
                <li>
                    <a href="/CustomerPortal/Products" class="@(ViewContext.RouteData.Values["action"]?.ToString() == "Products" ? "active" : "")">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" /></svg>
                        <span>Products</span>
                    </a>
                </li>
                <li>
                    <a href="/CustomerPortal/Promotions" class="@(ViewContext.RouteData.Values["action"]?.ToString() == "Promotions" ? "active" : "")">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" /></svg>
                        <span>Deals</span>
                    </a>
                </li>
                <li>
                    <a href="/CustomerPortal/Orders" class="@(ViewContext.RouteData.Values["action"]?.ToString() == "Orders" ? "active" : "")">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" /></svg>
                        <span>Orders</span>
                    </a>
                </li>
                <li>
                    <a href="/CustomerPortal/Support" class="@(ViewContext.RouteData.Values["action"]?.ToString() == "Support" ? "active" : "")">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                        <span>Support</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            @RenderBody()
        </div>
    </main>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function handleSearch(event) {
            if (event.key === 'Enter') {
                const query = document.getElementById('globalSearch').value.trim();
                if (query) {
                    window.location.href = '/CustomerPortal/Products?search=' + encodeURIComponent(query);
                }
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            updateCartBadge();
        });

        function updateCartBadge() {
            const cart = JSON.parse(localStorage.getItem('cart') || '[]');
            const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
            const badge = document.getElementById('cartBadge');
            if (badge && totalItems > 0) {
                badge.textContent = totalItems;
                badge.style.display = 'flex';
            }
        }
    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
